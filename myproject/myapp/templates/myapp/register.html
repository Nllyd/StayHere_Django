<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css" rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'myapp/css/register.css' %}">
    <link rel="stylesheet" href="{% static 'myapp/css/myfonts.css' %}">

</head>
<body>

    <!-- Header -->
    <header>
        <img id="header-image" src="{% static 'myapp/images/StayPandaHere.png' %}" alt="Logo">
        <button class="menu-toggle">&#9776;</button> <!-- Ícono de menú -->
    </header>

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <button class="close-btn" id="close-button">&times;</button> <!-- Botón cerrar -->
        <ul>
            {% if user.is_authenticated %}
                <li><a href="{% url 'user' %}" class="semilight" style="font-size: 14px; text-align: left;">Mi perfil</a></li> <!-- Nuevo enlace -->
                <li><a href="{% url 'nuevo' %}" class="semilight" style="font-size: 14px; text-align: left;">Ofrecer Habitaciones</a></li>
                <li><a href="{% url 'home' %}" class="semilight" style="font-size: 14px; text-align: left;">Buscar Habitacion</a></li>
                <li><a href="{% url 'logout' %}" class="semilight" style="font-size: 14px; text-align: left;">Cerrar Sesion</a></li>
            {% else %}
                <li><a href="{% url 'login' %}" class="semilight" style="font-size: 14px; text-align: left;">Iniciar Sesion</a></li>
                <li><a href="{% url 'alert' %}" class="semilight" style="font-size: 14px; text-align: left;">Ofrecer Habitaciones</a></li>
                <li><a href="{% url 'home' %}" class="semilight" style="font-size: 14px; text-align: left;">Buscar Habitacion</a></li>
            {% endif %}
            <hr style="color: rgb(255, 255, 255); width: 190px; border: 2px solid; border-radius: 10px; margin-left: 15px; margin-top: 170px;">
            <li><a href="#" class="semilight" style="font-size: 14px; text-align: left;">¿Dudas?</a></li>
        </ul>
    </div>

    <!-- Formulario -->
    <div class="background-container">
        <form method="POST">
            {% csrf_token %}
            <!-- Mostrar mensaje de error si existe -->
            {% if error %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
            {% endif %}

            <!-- Datos para iniciar sesion -->
            <p class="thin" style="color: rgb(186, 207, 219); font-size: 24px; text-align: left;">Estos datos servirán para iniciar sesión</p>

            <hr style="color: white;">
            <div class="form-group">
                <p class="light" style="color: rgb(250, 250, 250); font-size: 16px; text-align: left;margin-bottom: 5px;">Correo electrónico</p>
                <input type="email" name="email" id="email" placeholder="Ingrese su correo electrónico" style="padding-left: 20px;" required>
            </div>
            <div class="form-group">
                <p class="light" style="color: rgb(250, 250, 250); font-size: 16px; text-align: left;margin-top: 10px;margin-bottom: 5px;">Contraseña</p>
                <input type="password" name="password" id="password-input" placeholder="Ingrese su contraseña" style="padding-left: 20px;" required>
                <i class="bi bi-eye-slash show-password-icon" id="show-password"></i>
            </div>
            
            <hr style="color: white;">

            <p class="thin" style="color: rgb(186, 207, 219); font-size: 24px; text-align: left;">Estos datos servirán para tu perfil</p>
            <div class="form-group">
                <p class="light" style="color: rgb(250, 250, 250); font-size: 16px; text-align: left;margin-bottom: 5px;margin-top: 10px;">Nombre y Apellidos</p>
                <input type="text" name="nombre" id="nombre" placeholder="Ingrese su nombre" style="padding-left: 20px;" required>
            </div>
            <div class="form-group">
                <p class="light" style="color: rgb(250, 250, 250); font-size: 16px; text-align: left;margin-bottom: 5px;margin-top: 10px;">Número de teléfono</p>
                <input type="text" name="telefono" id="telefono" placeholder="Ingrese su número" style="padding-left: 20px;" required>
            </div>
            <div class="form-group">
                <p class="light" style="color: rgb(250, 250, 250); font-size: 16px; text-align: left;margin-bottom: 5px;margin-top: 10px;">Edad</p>
                <input type="number" name="edad" id="edad" placeholder="Ingrese su edad" style="padding-left: 20px;" required>
            </div>
            <div class="col-md-12 text-center mt-4">
                <button type="submit" class="btn btn-custom">
                    <p class="semilight" style="color:rgb(250, 250, 250); font-size: 16px; text-align: center;margin-top: 10px;margin-bottom: 5px;">Registrarse</p>
                </button>
            </div>
        </form>
    </div>

    <!-- "Iniciar Sesión"-->
    <div class="col-md-12 text-center mt-4">
        <a href="{% url 'login' %}"><img src="{% static 'myapp/images/Textos StayHere/Yatienescuenta.png' %}" style="width: 18%;" alt="Iniciar Sesión"></a>
    </div>

    <!-- "Footer"-->
    <footer>
        Aquí va el contenido del footer.
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Boton de menu
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            var sidebar = document.getElementById("sidebar");
            sidebar.style.width = '250px';
        });

        document.querySelector('.close-btn').addEventListener('click', function() {
            var sidebar = document.getElementById("sidebar");
            sidebar.style.width = '0';
        });

        window.onclick = function(event) {
            var sidebar = document.getElementById("sidebar");
            if (event.target == sidebar) {
                sidebar.style.width = '0';
            }
        }

        // Mostrar/esconder contraseña
        const passwordInput = document.getElementById('password-input');
        const showPasswordIcon = document.getElementById('show-password');

        showPasswordIcon.addEventListener('click', function() {
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                showPasswordIcon.classList.remove('bi-eye-slash');
                showPasswordIcon.classList.add('bi-eye');
            } else {
                passwordInput.type = 'password';
                showPasswordIcon.classList.remove('bi-eye');
                showPasswordIcon.classList.add('bi-eye-slash');
            }
        });
    </script>

    <script>
        // Botones de navegación
        document.getElementById('forgotpass').onclick = function() {
            window.location.href = "{% url 'home' %}";
        }

        document.getElementById('register').onclick = function() {
            window.location.href = "{% url 'register' %}";
        }
    </script>

</body>
</html>
