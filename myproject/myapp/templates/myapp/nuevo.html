<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css"/>
    {% load static %}
    <link rel="stylesheet" href="{% static 'myapp/css/habitaciones.css' %}">
    <style>
        .marker {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: red;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        .map-container {
            position: relative;
            height: 600px;
        }
        iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <img id="header-image" src="{% static 'myapp/images/StayPandaHere.png' %}" alt="">
    </header>
    <div class="container">
        <form>
            <div class="col" style="margin-top: 30px;">
                <p>Información del Alojamiento</p>
            </div>
            <div class="alojamiento-section"> <!-- Recuadro gris oscuro -->
                <div id="container" class="row">
                    <div class="col">
                        <p>Nombra tu alojamiento</p>
                        <div class="input-group mb-3">
                            <input type="text" id="address" class="form-control" placeholder="Ingresa un nombre" aria-label="Enter name">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="map-container">
                            <iframe id="map-iframe" src="https://maps.google.com/maps?q=-12.0442794204298,-76.95116391076502&amp;t=&amp;z=17&amp;ie=UTF8&amp;iwloc=&amp;output=embed"></iframe>
                            <div id="map" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0;"></div>
                        </div>

                        <p style="margin-top: 30px;">Agrega las imágenes de tu alojamiento</p>
                        <div class="slider-container">
                            <input type="file" id="imageUpload" name="imageUpload" accept="image/*" onchange="displayImages(event)">
                            <div id="imagePreviewSlider" class="mt-3"></div>
                        </div>
                        
                        <p>Establece tu precio</p>
                        <div class="precio-box">
                            <input type="number" class="form-control" placeholder="S/.">
                        </div>
                    </div>
                    <div class="col-6" style="margin-top: -200px;"> <!-- Ajustado el margen superior -->
                        <p>Descripción</p>
                        <div class="col">
                            <div class="rounded bg-white p-3" style="margin-bottom: 0; margin-top: 0;"> <!-- Margen inferior y superior modificados a cero -->
                                <input type="text" class="form-control" placeholder="Describe tu alojamiento" style="height: 500px; width: 100%; white-space: normal;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 text-center mt-4">
                    <button type="submit" class="btn btn-primary">Publicar</button>
                </div>
            </div>
        </form>
    </div>

    <!-- "Footer"-->
    <footer>
        Aquí va el contenido del footer.
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick.min.js"></script>
    <script>
        function displayImages(event) {
            const fileInput = event.target;
            const files = fileInput.files;
            const sliderContainer = document.getElementById("imagePreviewSlider");

            // Limpiar el slider antes de agregar nuevas imágenes
            sliderContainer.innerHTML = "";

            // Mostrar cada imagen seleccionada en el slider
            for (let i = 0; i < files.length; i++) {
                const file = files[i];

                // Agregar imagen al slider
                const imageContainer = document.createElement("div");
                imageContainer.classList.add("image-container");
                const image = document.createElement("img");
                image.src = URL.createObjectURL(file);
                image.classList.add("img-fluid");
                image.alt = "Image " + (i + 1);
                imageContainer.appendChild(image);
                sliderContainer.appendChild(imageContainer);
            }

            // Initialize the slider after adding images
            $('.slider-container').slick({
                infinite: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                dots: true,
                arrows: true,
                prevArrow: '<button type="button" class="slick-prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span>Previous</span></button>',
                nextArrow: '<button type="button" class="slick-next"><span class="carousel-control-next-icon" aria-hidden="true"></span>Next</span></button>'
            });
        }
    </script>
</body>
</html>
